(this["webpackJsonprancid-tomatillos"]=this["webpackJsonprancid-tomatillos"]||[]).push([[0],{24:function(e,t,r){},25:function(e,t,r){},26:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){},42:function(e,t,r){},43:function(e,t,r){},44:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(17),i=r.n(a),s=r(3),c=(r(24),r(25),r(2)),o=r(6),l=r(7),u=r(9),d=r(8),h=(r(26),r(0)),v=function(e){var t=e.id,r=e.poster,n=e.title;return Object(h.jsx)(s.b,{to:"/movie/".concat(t),children:Object(h.jsx)("div",{className:"movie-card",children:Object(h.jsx)("img",{className:"movie-poster",src:r,alt:"Cover image for "+n})})})},j=(r(36),function(){return Object(h.jsx)("h2",{className:"loading",children:"Loading...\ud83c\udf7f"})}),m=(r(37),function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).handleChange=function(e){n.setState({title:e.target.value})},n.sendRequest=function(e){e.preventDefault(),n.props.searchMovie(n.state.title),n.clearInputs()},n.clearInputs=function(){n.setState({title:""})},n.state={title:""},n}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("form",{children:[Object(h.jsx)("input",{type:"text",placeholder:"Search Movie Title",name:"title",value:this.state.title,onChange:function(t){return e.handleChange(t)}}),Object(h.jsx)(s.b,{to:"/search/".concat(this.state.title),children:Object(h.jsx)("button",{children:"Search"})})]})}}]),r}(n.Component)),f=r(10),b=r.n(f),p=r(12),x=function(){var e=Object(p.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies/");case 3:if((t=e.sent).ok&&500!==t.status){e.next=6;break}throw Error("Error fetching movies");case 6:return e.next=8,t.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0.message),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(p.a)(b.a.mark((function e(t){var r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies/".concat(t));case 3:if((r=e.sent).ok&&500!==r.status){e.next=6;break}throw Error("Error fetching movie");case 6:return e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0.message),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies/".concat(t,"/videos"));case 2:if((r=e.sent).ok&&500!==r.status){e.next=5;break}throw Error("Error fetching movies");case 5:return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=(r(39),function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(o.a)(this,r),(e=t.call(this)).componentDidMount=function(){x().then((function(t){return e.setState({movies:t.movies})})).catch((function(t){return e.setState({error:t})}))},e.renderAllMovies=function(){var t=e.state.movies.map((function(e){var t=e.release_date.split("-"),r=t[1]+"-"+t[2]+"-"+t[0];return Object(h.jsx)(v,{poster:e.poster_path,background:e.backdrop_path,title:e.title,avgRating:e.average_rating.toFixed(1),releaseDate:r,id:e.id},e.id)}));return Object(h.jsx)("div",{className:"movies-container",children:t})},e.state={movies:[],movieInfo:null,video:null,filteredMovies:[],error:""},e}return Object(l.a)(r,[{key:"render",value:function(){return Object(h.jsxs)("section",{className:"movies-section",children:[Object(h.jsx)(m,{}),!this.state.movies.length&&this.state.error&&Object(h.jsx)("h2",{children:"500 Error!"}),!this.state.movies.length&&!this.state.error&&Object(h.jsx)(j,{}),!this.state.error&&this.state.movies.length&&Object(h.jsx)("section",{children:this.renderAllMovies()})]})}}]),r}(n.Component)),N=(r(40),function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).state={movieInfo:{},movieTrailers:[],movieError:"",videoError:""},n}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.id;O(t).then((function(t){return e.setState({movieInfo:t.movie})})).catch((function(){return e.setState({movieError:"Having trouble finding movie information right now...please try again."})})),g(t).then((function(t){e.setState({movieTrailers:t.videos.find((function(e){return"Trailer"===e.type}))})})).catch((function(){return e.setState({videoError:"Sorry, this video is currently unavailable."})}))}},{key:"formatDate",value:function(e){var t=e.split("-");return t[1]+"-"+t[2]+"-"+t[0]}},{key:"convertNumber",value:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"render",value:function(){var e=this.state.movieInfo,t=e.title,r=e.release_date,n=e.backdrop_path,a=e.genres,i=e.budget,c=e.revenue,o=e.tagline,l=e.average_rating,u=e.runtime;if(t){var d=a.map((function(e){return e+" "})),v=this.state.movieTrailers&&"https://www.youtube.com/embed/".concat(this.state.movieTrailers.key),j=this.state.movieInfo&&"url(".concat(n,")");return Object(h.jsx)("section",{className:"movie-details",style:{backgroundImage:j},children:Object(h.jsxs)("article",{className:"movie-details-info",children:[Object(h.jsx)("h2",{children:t.toUpperCase()}),Object(h.jsx)("h3",{style:{display:!o&&"none"},children:o}),Object(h.jsxs)("p",{className:"details",children:["Avg Rating: ",l.toFixed(1)]}),Object(h.jsxs)("p",{className:"details",children:["Release Date: ",this.formatDate(r)]}),Object(h.jsxs)("p",{className:"details",children:["Genre: ",d.length?d:"Unavailable"]}),Object(h.jsxs)("p",{className:"details",children:["Budget: ",i?"$".concat(this.convertNumber(i)):"Unavailable"]}),Object(h.jsxs)("p",{className:"details",children:["Revenue: ",c?"$".concat(this.convertNumber(c)):"Unavailable"]}),Object(h.jsxs)("p",{className:"details",children:["Runtime: ",u?u+" minutes":"Unavailable"]}),Object(h.jsx)("div",{className:"trailer-video",children:Object(h.jsx)("iframe",{style:{display:!v&&"none"},title:"Embedded youtube",className:"video",width:"450",height:"300",src:v,frameBorder:"0",allowFullScreen:!0})}),Object(h.jsx)("a",{href:v,className:"trailer-link hidden",children:"Click here for trailer"}),Object(h.jsx)(s.c,{className:"go-back",to:"/",children:"Main View"})]})})}return null}}]),r}(n.Component)),y=(r(41),function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(o.a)(this,r),(e=t.call(this)).componentDidMount=function(){x().then((function(t){return e.setState({movies:t.movies})})).then((function(){return e.searchMovie()})).catch((function(t){return e.setState({error:t})}))},e.renderFilteredMovies=function(){var t=e.state.filteredMovies.map((function(e){var t=e.release_date.split("-"),r=t[1]+"-"+t[2]+"-"+t[0];return Object(h.jsx)(v,{poster:e.poster_path,background:e.backdrop_path,title:e.title,avgRating:e.average_rating.toFixed(1),releaseDate:r,id:e.id},e.id)}));return Object(h.jsxs)("div",{className:"movies-container",children:[t,Object(h.jsx)(s.c,{className:"go-back",to:"/",children:"Main View"})]})},e.searchMovie=function(){var t=e.state.movies.filter((function(t){return t.title.toLowerCase().includes(e.props.title.toLowerCase())}));e.setState({filteredMovies:t})},e.state={movies:[],movieInfo:null,video:null,filteredMovies:[],error:""},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.state.filteredMovies.map((function(e){var t=e.release_date.split("-"),r=t[1]+"-"+t[2]+"-"+t[0];return Object(h.jsx)(v,{poster:e.poster_path,background:e.backdrop_path,title:e.title,avgRating:e.average_rating.toFixed(1),releaseDate:r,id:e.id},e.id)}));return Object(h.jsxs)("section",{children:[Object(h.jsx)(s.c,{className:"go-back",to:"/",children:"Main View"}),Object(h.jsx)("div",{className:"filtered-movies-container",children:e})]})}}]),r}(n.Component)),w=(r(42),function(){return Object(h.jsx)("header",{className:"header",children:Object(h.jsx)("h1",{children:"rancid tomatillos \ud83c\udfac"})})}),M=(r(43),function(){return Object(h.jsx)("div",{className:"error",children:Object(h.jsx)(s.c,{className:"go-back",to:"/",children:Object(h.jsx)("img",{src:"https://files.muzli.space/43e6e439756832db0ff5dd2b76ffef5c.jpeg",alt:"404-img"})})})}),S=function(){return Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)(w,{}),Object(h.jsx)("main",{className:"main-section",children:Object(h.jsxs)(c.c,{children:[Object(h.jsx)(c.a,{exact:!0,path:"/",render:function(){return Object(h.jsx)(k,{})}}),Object(h.jsx)(c.a,{exact:!0,path:"/search/:title",render:function(e){var t=e.match;return Object(h.jsx)(y,{title:t.params.title})}}),Object(h.jsx)(c.a,{exact:!0,path:"/search/",render:function(){return Object(h.jsx)(k,{})}}),Object(h.jsx)(c.a,{exact:!0,path:"/movie/:id",render:function(e){var t=e.match;return Object(h.jsx)(N,{id:parseInt(t.params.id)})}}),Object(h.jsx)(c.a,{path:"*",render:function(){return Object(h.jsx)(M,{})}})]})})]})},C=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,45)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),i(e),s(e)}))};i.a.render(Object(h.jsxs)(s.a,{children:[" ",Object(h.jsx)(S,{})," "]}),document.getElementById("root")),C()}},[[44,1,2]]]);
//# sourceMappingURL=main.bf484b75.chunk.js.map